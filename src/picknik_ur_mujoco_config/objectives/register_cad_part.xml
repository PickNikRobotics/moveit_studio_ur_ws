<?xml version='1.0' encoding='UTF-8'?>
<root BTCPP_format="4" main_tree_to_execute="Register CAD Part">
  <!--//////////-->
  <BehaviorTree ID="Register CAD Part" _description="" _favorite="false">
    <Control ID="Sequence" name="TopLevelSequence">
      <Action ID="ClearSnapshot"/>
      <Action ID="CreateStampedPose" position_xyz="1;-0.45;0.575" orientation_xyzw=".5;.5;.5;.5"/>
      <Action ID="LoadPointCloudFromFile" color="0;255;0" file_path="~/user_ws/install/picknik_ur_mujoco_config/share/picknik_ur_mujoco_config/description/assets/generic_mockup.stl" point_cloud="{point_cloud}"/>
      <Action ID="TransformPointCloud" input_cloud="{point_cloud}" transform_pose="{stamped_pose}"/>
      <Action ID="SendPointCloudToUI" point_cloud="{output_cloud}"/>
      <Action ID="GetPointCloud" topic_name="/wrist_camera/points" message_out="{wrist_point_cloud}"/>
      <Action ID="SendPointCloudToUI" point_cloud="{wrist_point_cloud}"/>
      <Action ID="RegisterPointClouds" target_point_cloud="{wrist_point_cloud}" base_point_cloud="{output_cloud}" max_correspondence_distance="1.0"/>
      <Action ID="TransformPointCloud" input_cloud="{output_cloud}" transform_pose="{target_pose}" output_cloud="{output_cloud_aligned}"/>
      <Action ID="SendPointCloudToUI" point_cloud="{output_cloud_aligned}"/>
    </Control>
  </BehaviorTree>
</root>
