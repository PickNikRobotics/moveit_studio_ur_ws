<?xml version='1.0' encoding='UTF-8'?>
<root BTCPP_format="4" main_tree_to_execute="Move Until Contact Example">
  <!--//////////-->
  <BehaviorTree ID="Move Until Contact Example" _description="An example for how to use the VFC to move in a direction until contact is made." _favorite="false">
    <Control ID="Sequence" name="TopLevelSequence">
      <SubTree ID="Move to Waypoint" _collapsed="true" waypoint_name="Place" joint_group_name="manipulator" planner_interface="pro_rrt" controller_names="/joint_trajectory_controller"/>
      <Action ID="ActivateControllers" controller_names="/velocity_force_controller"/>
      <Action ID="CallTriggerService" service_name="/velocity_force_controller/zero_fts"/>
      <!--Move along a direction at 5 cm/s until contact (20N) is made.-->
      <SubTree ID="Command VFC" _collapsed="true" linear_velocity_xyz="0.0;0;0.05" angular_velocity_xyz="0;0;0" force_threshold="20" tip_link="grasp_link" distance_exit_condition="false" force_xyz="0;0;0" torque_xyz="0;0;0" force_controlled_axes="0;0;0;0;0;0" velocity_controlled_axes="0;0;1;0;0;0" wrench_gain="0.01"/>
      <!--Relax the arm for 500ms to just stay in contact without applying force.-->
      <SubTree ID="Force Relaxation" _collapsed="true" wrench_gain="0.01" relaxation_time_ms="500" tip_link="grasp_link"/>
    </Control>
  </BehaviorTree>
</root>
